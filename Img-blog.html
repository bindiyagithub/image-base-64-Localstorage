<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Display Image blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div id="display"></div>
    <script>
           /* 1st localstorage mai se userData get kiya*/
        let mydata = JSON.parse(localStorage.getItem("userData"));

        /* then localstorage mai se jo bhi user ne login kiya uska
        user ka email get kiya */
        let  myImgfiles = JSON.parse(localStorage.getItem("mydata.email"));

        /* then humko jo bhi user ne login kiya (email dalker) uski imgfile
        milengi wo sari file img-blog.html mai display honi chahiye
        so use map */
        let myimage =  myImgfiles.map((y)=> 
        {

            return(`<div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="card mt-2">

                       <div class="card-img-top"> 
                        <img src=${y.Imgfile} width="355px" />
                       </div>
                       <div class="card-body"></div>
                       <div class="card-footer d-grid">
                       <button class="btn btn-primary">Like</button>
                       </div>
                    </div> 
                
                </div> 
            </div>
            </div>`)

        })

        document.getElementById("display").innerHTML = myimage.join("");

      // Add event listeners to each Like button
    //   myImgfiles.map((f) =>{
    //          const likeBtn = document.getElementById(`${f.Id}`);
    //          const likeCount = document.getElementById(`${f.Id}`);
             
    //          // click on likebtn & increment the count for image
    //          likeBtn.addEventListener("click" , ()=> {
    //             Imgfile.count++;

    //           /* then store that image into localstorage according 
    //           to login user  */
    //           localStorage.setItem(user.email , JSON.stringify(files));
    //           likeCount.innerHTML = Imgfile.count;    
    //          })
    //     });
    </script>
</body>
</html>